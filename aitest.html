<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>@princevegeta</title>
        <link rel="icon" href="/favicon.ico" type="image/x-icon">
        <meta name="description" content="dev | anime fan" />
        <meta name="author" content="@princevegeta" />
        <meta property="og:title" content="@princevegeta" />
        <meta property="og:description" content="dev | anime fan" />
        <meta property="og:image" content="https://avatars.githubusercontent.com/u/179041613" />
        <meta property="og:type" content="website" />
        <meta name="twitter:card" content="summary_large_image" />
        <meta name="twitter:title" content="@princevegeta" />
        <meta name="twitter:description" content="dev | anime fan" />
        <meta name="twitter:image" content="https://avatars.githubusercontent.com/u/179041613" />
        <meta name="theme-color" content="#ffffff" />
        <script src="rainyday.js"></script>
        <style>
/* ─── FONTS ─── */
@font-face {
    font-family: 'Satoshi';
    src: url('https://cdn.fontshare.com/wf/NWBQYJIM7GCZ5XWD7D26ARB3VDY55ZRT/K63EV2KZIGKLE7RANQ2U42S6SVHU5RJ7/X6XYTKIVDUW7GZTZPZNN4EUM5KH54KHF.woff2') format('woff2'),
         url('https://cdn.fontshare.com/wf/NWBQYJIM7GCZ5XWD7D26ARB3VDY55ZRT/K63EV2KZIGKLE7RANQ2U42S6SVHU5RJ7/X6XYTKIVDUW7GZTZPZNN4EUM5KH54KHF.woff') format('woff'),
         url('https://cdn.fontshare.com/wf/NWBQYJIM7GCZ5XWD7D26ARB3VDY55ZRT/K63EV2KZIGKLE7RANQ2U42S6SVHU5RJ7/X6XYTKIVDUW7GZTZPZNN4EUM5KH54KHF.ttf') format('truetype');
    font-weight: 300 900;
    font-display: swap;
}

/* ─── SCROLLBAR ─── */
::-webkit-scrollbar { width: 8px; background: transparent; }
::-webkit-scrollbar-track { background: rgba(20,12,30,0.85); }
::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, #8b6fd1, #3f2a66);
    border-radius: 8px;
}
::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, #6b4fa3, #5a3e8a);
}
* { scrollbar-width: thin; scrollbar-color: #6b4fa3 rgba(20,12,30,0.85); }

/* ─── RESET / BASE ─── */
*, *::before, *::after { box-sizing: border-box; }
body, * { font-family: "Satoshi", sans-serif !important; }
body {
    background-color: #0a0a0a;
    color: #a13ecf9c;
    margin: 0; padding: 0;
    overflow-x: hidden;
    min-height: 100%;
}
html, body { height: 100%; }
::selection { background: #eee; color: #09090b; }

/* ─── CANVAS / BG ─── */
canvas {
    position: fixed !important;
    top: 0; left: 0;
    z-index: -1 !important;
    width: 100vw; height: 100vh;
    pointer-events: none;
}
#forest { display: none; }
.bgimage {
    position: fixed; top: 0; left: 0;
    width: 100vw; height: 100vh;
    object-fit: cover;
    z-index: -1;
}

/* ─── LAYOUT ─── */
.main-wrapper { position: relative; z-index: 1; }
.div1 { background-position: 50%; background-size: cover; min-height: 100%; position: absolute; width: 100%; }
.div2 { align-items: center; display: flex; flex-direction: column; gap: 10px; min-height: 100%; }
.div3 { align-items: center; display: flex; flex-direction: column; gap: 15px; justify-content: center; max-width: var(--containerWidth); width: 100%; }
.div4 {
    backdrop-filter: blur(var(--containerBlur));
    -webkit-backdrop-filter: blur(var(--containerBlur));
    background-color: var(--containerColor);
    border: var(--containerBorder);
    border-radius: var(--containerRadius);
    max-width: var(--containerWidth);
    padding: var(--containerPadding);
    width: 100%;
    transition: opacity 3s, margin-bottom 2.4s, backdrop-filter 0.8s, box-shadow 0.6s ease;
    margin-bottom: 145px;
    opacity: 1 !important;
    pointer-events: all;
    box-shadow: rgba(0,0,0,0.2) 5px 5px 5px;
}
.div4:hover {
    backdrop-filter: blur(10px);
    box-shadow: rgba(0,0,0,0.2) 10px 10px 10px;
}
.div5 { align-items: center; display: flex; flex-direction: column; width: 100%; }
.centered { margin-top: calc(50vh - 180px); }
@media (max-width: 600px) { .centered { margin-top: 5vh; } }
@media (max-width: 690px) { .div4 { width: 95%; } }
@media (max-width: 370px) { .div4 { width: 100%; } }

/* ─── TOP / TITLE ─── */
.topcontainer { align-items: center; display: flex; flex-direction: column; justify-content: center; margin-top: 7px; max-width: 27rem; text-align: center; }
.titlecontainer, .subtitlecontainer { color: var(--textColor); margin: 0; }
.titlecontainer {
    background-image: var(--usernameEffects);
    text-shadow: var(--colorUsernameGlow);
    width: fit-content;
    font-weight: 600; font-size: 39.5px;
}
.subtitlecontainer { margin-top: 5px; font-weight: 570; font-size: 19px; }

/* ─── MIDBOX ─── */
.midboxoutercontainer { display: flex; justify-content: center; max-width: 28rem; width: 100%; }
.midboxinnercontainer {
    background-color: var(--presenceContainerBackground);
    border: var(--presenceContainerBorder);
    border-radius: 25px;
    max-width: fit-content; width: 100%;
    align-items: center; display: flex;
    overflow: hidden; text-overflow: ellipsis;
    margin-top: 20px;
}
.midbox {
    display: flex; flex-direction: column; gap: 4px;
    height: 100%; padding: 15px; width: 320px;
}
.midbox h1, .midbox h3 { margin: 0; }
.midbox h1 { align-items: center; color: var(--presenceUsernameColor); display: flex; }
.midbox h3 { color: var(--presenceStatusColor); }
.midbox h3 a { color: var(--presenceUsernameColor); }

/* ─── PRESENCE ─── */
.presence {
    position: relative; overflow: hidden;
    display: flex; flex-direction: row; gap: 1rem;
    height: 100%; padding: 15px; width: 320px;
}
.presence-nameplate { position: absolute; top:0; left:0; width:100%; height:100%; z-index:0; pointer-events:none; }
.presence-nameplate video { width:100%; height:100%; object-fit:fill; position:absolute; top:0; left:0; }
.presence .pfp, .presence .usernamecontainer { position: relative; z-index: 2 !important; }
.presence .pfp { position: relative; display: inline-block; }
.presence .pfp img { border-radius: 50%; height: 48px; width: 48px; display: block; }
.presence .pfp .status-icon {
    height:14px; width:14px; position:absolute; bottom:0; right:0;
    border-radius:50%; border:2px solid #181818; z-index:999;
}
.presence .pfp .avatar-deco {
    height:54px; width:54px; position:absolute;
    top:50%; left:50%; transform:translate(-50%,-50%);
}
.presence .usernamecontainer { color: white; max-width: 100%; }
.presence .usernamecontainer h3 {
    display:flex; align-items:center; gap:0.5rem;
    max-width:100%; overflow-x:hidden; white-space:nowrap; text-overflow:ellipsis;
}
.presence .guild-tag {
    background-color: var(--presenceContainerBackground);
    border: var(--presenceContainerBorder);
    border-radius:10px; padding:2px 5px;
    display:flex; justify-content:center; align-items:center;
    gap:0.25rem; font-size:12px;
}
.presence .guild-tag img { height:12px; width:12px; }
.presence .activity {
    font-size:12px; max-width:70%; overflow-x:hidden;
    white-space:nowrap; text-overflow:ellipsis;
    display:flex; align-items:center; gap:5px; flex:1; min-width:0;
}
.presence .activity img { height: 18px; width: 18px; vertical-align: middle; }
.presence h1, .presence h3, .presence h4 { margin:0; }
.presence h1 { color: var(--presenceUsernameColor); display:flex; align-items:center; }
.presence h3 { color: var(--presenceStatusColor); }

/* ─── SOCIAL ICONS ─── */
.social-row { display:flex; flex-wrap:wrap; gap:9px; justify-content:center; align-items:center; margin-top:30px; width:100%; padding:0 15px; }
.social-row a { display:flex; }
.social-row svg { font-size:35px; transition:0.3s; margin:0 10px; color:#f7f7f7; filter:drop-shadow(#f7f7f7 1px 0 7px); }
.social-row svg:hover { transform: scale(1.1); }

/* ─── SCROLL ARROW ─── */
#scroll-arrow { opacity:0; transition:opacity 0.3s ease; }

/* ─── MUSIC PLAYER ─── */
.player-wrap {
    width: 100%;
    max-width: 28rem;
    margin: 0 auto;
}

/* Hidden YouTube iframe container */
.yt-hidden {
    position: absolute;
    width: 1px; height: 1px;
    overflow: hidden; opacity: 0;
    pointer-events: none;
}

.player-card {
    background: var(--presenceContainerBackground);
    border: var(--presenceContainerBorder);
    border-radius: 25px;
    padding: 18px 20px 16px;
    margin-top: 20px;
}

/* Now playing header */
.player-header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 14px;
}
.player-thumb {
    width: 52px; height: 52px;
    border-radius: 10px;
    object-fit: cover;
    background: rgba(255,255,255,0.08);
    flex-shrink: 0;
    overflow: hidden;
}
.player-thumb img { width:100%; height:100%; object-fit:cover; }
.player-info { flex: 1; min-width: 0; }
.player-title {
    color: #fff;
    font-weight: 600; font-size: 14px;
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    margin-bottom: 3px;
}
.player-artist {
    color: rgba(255,255,255,0.5);
    font-size: 12px;
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.player-open-btn {
    display: flex; align-items: center; justify-content: center;
    width: 34px; height: 34px;
    border-radius: 8px;
    background: rgba(255,255,255,0.1);
    border: 1px solid rgba(255,255,255,0.15);
    cursor: pointer;
    transition: background 0.2s;
    flex-shrink: 0;
    text-decoration: none;
}
.player-open-btn:hover { background: rgba(255,255,255,0.2); }
.player-open-btn svg { color: rgba(255,255,255,0.7); }

/* Progress bar */
.player-progress-wrap {
    margin-bottom: 12px;
    cursor: pointer;
}
.player-progress-bg {
    width: 100%; height: 3px;
    background: rgba(255,255,255,0.15);
    border-radius: 2px;
    overflow: hidden;
    position: relative;
}
.player-progress-fill {
    height: 100%;
    width: 0%;
    background: #fff;
    border-radius: 2px;
    transition: width 0.3s linear;
}
.player-time-row {
    display: flex; justify-content: space-between;
    margin-top: 4px;
    color: rgba(255,255,255,0.35);
    font-size: 11px;
}

/* Controls */
.player-controls {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
}
.ctrl-btn {
    background: none; border: none; cursor: pointer;
    color: rgba(255,255,255,0.5);
    display: flex; align-items:center; justify-content:center;
    width: 36px; height: 36px;
    border-radius: 8px;
    transition: color 0.2s, background 0.2s;
}
.ctrl-btn:hover { color: #fff; background: rgba(255,255,255,0.08); }
.ctrl-btn.active { color: #fff; }
.ctrl-btn--play {
    width: 42px; height: 42px;
    background: rgba(255,255,255,0.12);
    border: 1px solid rgba(255,255,255,0.18);
    border-radius: 50%;
    color: #fff;
}
.ctrl-btn--play:hover { background: rgba(255,255,255,0.22); }

/* Volume */
.player-bottom {
    display: flex; align-items: center; justify-content: space-between;
    margin-top: 12px;
    gap: 10px;
}
.vol-wrap {
    display: flex; align-items: center; gap: 6px;
    flex: 1;
}
.vol-wrap svg { color: rgba(255,255,255,0.4); flex-shrink:0; }
.vol-slider {
    flex: 1; height: 3px;
    -webkit-appearance: none; appearance: none;
    background: rgba(255,255,255,0.15);
    border-radius: 2px; outline: none;
    cursor: pointer;
}
.vol-slider::-webkit-slider-thumb {
    -webkit-appearance: none; appearance: none;
    width: 10px; height: 10px;
    border-radius: 50%;
    background: #fff;
    cursor: pointer;
}
.vol-slider::-moz-range-thumb {
    width: 10px; height: 10px;
    border-radius: 50%;
    background: #fff; border: none;
    cursor: pointer;
}

/* Track list toggle + list */
.tracklist-toggle {
    display: flex; align-items: center; gap: 6px;
    background: none; border: none;
    color: rgba(255,255,255,0.45);
    font-family: inherit; font-size: 12px;
    cursor: pointer; padding: 0;
    transition: color 0.2s;
    margin-top: 10px;
    align-self: flex-start;
}
.tracklist-toggle:hover { color: rgba(255,255,255,0.7); }
.tracklist-toggle svg { transition: transform 0.25s; }
.tracklist-toggle.open svg { transform: rotate(180deg); }

.tracklist {
    margin-top: 10px;
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.35s ease;
}
.tracklist.open { max-height: 300px; overflow-y: auto; }

.track-item {
    display: flex; align-items: center; gap: 10px;
    padding: 7px 8px;
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.15s;
}
.track-item:hover { background: rgba(255,255,255,0.06); }
.track-item.active { background: rgba(255,255,255,0.1); }
.track-item .track-num {
    font-size: 11px; color: rgba(255,255,255,0.3);
    width: 18px; text-align: right; flex-shrink: 0;
}
.track-item.active .track-num { color: rgba(255,255,255,0.7); }
.track-item .track-name {
    font-size: 13px; color: rgba(255,255,255,0.7);
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    flex: 1; min-width: 0;
}
.track-item.active .track-name { color: #fff; font-weight: 600; }
.track-item .track-dur {
    font-size: 11px; color: rgba(255,255,255,0.3);
    flex-shrink: 0;
}

        </style>
    </head>
    <body>
    <img id="forest" src="bg.jpg" class="bgimage" style="filter: blur(8px);" crossorigin="anonymous">
    <canvas id="canvas"></canvas>

    <!-- Hidden YouTube player -->
    <div class="yt-hidden" id="yt-container">
        <div id="yt-player"></div>
    </div>

    <div class="main-wrapper"
        style="
            --presenceUsernameColor: #ffffff;
            --presenceStatusColor: rgba(255,255,255,0.7);
            --presenceContainerBackground: rgba(255,255,255,0.2);
            --presenceContainerBorder: 2px solid rgba(255,255,255,0.1);
            --textColor: #ffffff;
            --containerColor: rgba(255,255,255,0.13);
            --containerBlur: 3px;
            --containerRadius: 20px;
            --containerWidth: 40rem;
            --containerPadding: 35px 15px;
            --containerBorder: none;
            --colorUsernameGlow: 0px 0px 16.5px #ffffff;
            --usernameEffects: url(sparkle_white.gif);
        ">
        <div class="div1">
            <div class="div2">
                <div class="div3">

                    <!-- ─── HERO CARD ─── -->
                    <div class="div4 centered">
                        <div class="div5">
                            <div class="topcontainer">
                                <h1 class="titlecontainer">Prince Vegeta</h1>
                                <h3 class="subtitlecontainer">・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・</h3>
                            </div>

                            <!-- Discord Presence -->
                            <div class="midboxoutercontainer">
                                <div class="midboxinnercontainer">
                                    <div class="presence" id="presence-box"></div>
                                </div>
                            </div>

                            <!-- Social Links -->
                            <div class="social-row">
                                <a target="_blank" rel="noopener noreferrer" title="Discord" href="https://discord.com/users/1287361512171634720">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 126.644 96" width="1em" height="1em">
                                        <path fill="#fff" d="M81.15,0c-1.2376,2.1973-2.3489,4.4704-3.3591,6.794-9.5975-1.4396-19.3718-1.4396-28.9945,0-.985-2.3236-2.1216-4.5967-3.3591-6.794-9.0166,1.5407-17.8059,4.2431-26.1405,8.0568C2.779,32.5304-1.6914,56.3725.5312,79.8863c9.6732,7.1476,20.5083,12.603,32.0505,16.0884,2.6014-3.4854,4.8998-7.1981,6.8698-11.0623-3.738-1.3891-7.3497-3.1318-10.8098-5.1523.9092-.6567,1.7932-1.3386,2.6519-1.9953,20.281,9.547,43.7696,9.547,64.0758,0,.8587.7072,1.7427,1.3891,2.6519,1.9953-3.4601,2.0457-7.0718,3.7632-10.835,5.1776,1.97,3.8642,4.2683,7.5769,6.8698,11.0623,11.5419-3.4854,22.3769-8.9156,32.0509-16.0631,2.626-27.2771-4.496-50.9172-18.817-71.8548C98.9811,4.2684,90.1918,1.5659,81.1752.0505l-.0252-.0505ZM42.2802,65.4144c-6.2383,0-11.4159-5.6575-11.4159-12.6535s4.9755-12.6788,11.3907-12.6788,11.5169,5.708,11.4159,12.6788c-.101,6.9708-5.026,12.6535-11.3907,12.6535ZM84.3576,65.4144c-6.2637,0-11.3907-5.6575-11.3907-12.6535s4.9755-12.6788,11.3907-12.6788,11.4917,5.708,11.3906,12.6788c-.101,6.9708-5.026,12.6535-11.3906,12.6535Z"/>
                                    </svg>
                                </a>
                                <a target="_blank" rel="noopener noreferrer" title="GitHub" href="https://github.com/princevegetadev">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 100 100">
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="#fff"/>
                                    </svg>
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- ─── PROJECTS CARD ─── -->
                    <div class="div4" id="projects-outerdiv" style="padding-top:0;">
                        <div class="div5">
                            <svg id="scroll-arrow" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m6 9 6 6 6-6"/></svg>
                            <div class="topcontainer">
                                <h1 class="titlecontainer" id="projects">projects</h1>
                                <h3 class="subtitlecontainer" id="wiwo">what i'm working on</h3>
                            </div>
                            <div class="midboxoutercontainer">
                                <div class="midboxinnercontainer">
                                    <div class="midbox">
                                        <h1 style="font-weight:550;font-size:18.5px;">Aname</h1>
                                        <h3 style="font-weight:300;font-size:13.5px;"><a rel="noopener noreferrer" target="_blank" href="https://aname.vercel.app/">https://aname.vercel.app</a><br><br>Explore and watch thousands of anime series and movies at your fingertips.</h3>
                                    </div>
                                </div>
                            </div>
                            <div class="midboxoutercontainer">
                                <div class="midboxinnercontainer">
                                    <div class="midbox">
                                        <h1 style="font-weight:550;font-size:18.5px;">pyanimecli</h1>
                                        <h3 style="font-weight:300;font-size:13.5px;"><a rel="noopener noreferrer" target="_blank" href="https://pypi.org/project/pyanimecli">https://pypi.org/project/pyanimecli</a><br><br>A powerful command-line interface for searching, getting info, and watching anime directly from your terminal, powered by the YumaAPI.</h3>
                                    </div>
                                </div>
                            </div>
                            <div class="midboxoutercontainer">
                                <div class="midboxinnercontainer">
                                    <div class="midbox">
                                        <h1 style="font-weight:550;font-size:18.5px;">YumaAPI</h1>
                                        <h3 style="font-weight:300;font-size:13.5px;"><a rel="noopener noreferrer" target="_blank" href="https://yumaapi.vercel.app/">https://yumaapi.vercel.app</a><br><br>YumaAPI is a fast, unofficial RESTful API that provides detailed anime data with streaming from Hianime, enabling developers to easily integrate rich anime content and streaming into their applications.</h3>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ─── MUSIC PLAYER CARD ─── -->
                    <div class="div4">
                        <div class="div5">
                            <div class="topcontainer">
                                <h1 class="titlecontainer">listening</h1>
                                <h3 class="subtitlecontainer">what's on</h3>
                            </div>
                            <div class="player-wrap">
                                <div class="player-card">
                                    <!-- Now Playing -->
                                    <div class="player-header">
                                        <div class="player-thumb" id="player-thumb">
                                            <img id="player-thumb-img" src="" alt="">
                                        </div>
                                        <div class="player-info">
                                            <div class="player-title" id="player-title">Loading...</div>
                                            <div class="player-artist" id="player-artist">—</div>
                                        </div>
                                        <a class="player-open-btn" id="player-open-btn" href="#" target="_blank" rel="noopener noreferrer" title="Open on YouTube">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
                                        </a>
                                    </div>

                                    <!-- Progress -->
                                    <div class="player-progress-wrap" id="progress-wrap">
                                        <div class="player-progress-bg">
                                            <div class="player-progress-fill" id="progress-fill"></div>
                                        </div>
                                        <div class="player-time-row">
                                            <span id="time-current">0:00</span>
                                            <span id="time-total">0:00</span>
                                        </div>
                                    </div>

                                    <!-- Controls -->
                                    <div class="player-controls">
                                        <!-- Shuffle -->
                                        <button class="ctrl-btn" id="btn-shuffle" title="Shuffle">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 3 21 3 21 8"/><line x1="4" y1="20" x2="21" y2="3"/><polyline points="21 16 21 21 16 21"/><line x1="15" y1="15" x2="21" y2="21"/><line x1="4" y1="4" x2="9" y2="9"/></svg>
                                        </button>
                                        <!-- Prev -->
                                        <button class="ctrl-btn" id="btn-prev" title="Previous">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M6 6h2v12H6zm3.5 6 8.5 6V6z"/></svg>
                                        </button>
                                        <!-- Play/Pause -->
                                        <button class="ctrl-btn ctrl-btn--play" id="btn-play" title="Play">
                                            <svg id="icon-play" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"/></svg>
                                            <svg id="icon-pause" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor" style="display:none;"><path d="M6 19h4V5H6zm8-14v14h4V5h-4z"/></svg>
                                        </button>
                                        <!-- Next -->
                                        <button class="ctrl-btn" id="btn-next" title="Next">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/></svg>
                                        </button>
                                        <!-- Repeat -->
                                        <button class="ctrl-btn" id="btn-repeat" title="Repeat">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="17 1 21 5 17 9"/><path d="M3 11V9a4 4 0 0 1 4-4h14"/><polyline points="7 23 3 19 7 15"/><path d="M21 13v2a4 4 0 0 1-4 4H3"/></svg>
                                        </button>
                                    </div>

                                    <!-- Volume -->
                                    <div class="player-bottom">
                                        <div class="vol-wrap">
                                            <svg id="vol-icon" xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M15.54 8.46a5 5 0 0 1 0 7.07"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14"/></svg>
                                            <input type="range" class="vol-slider" id="vol-slider" min="0" max="100" value="80">
                                        </div>
                                    </div>

                                    <!-- Track List Toggle -->
                                    <button class="tracklist-toggle" id="tracklist-toggle">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="15" y2="18"/></svg>
                                        <span>Up next</span>
                                        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="m6 9 6 6 6-6"/></svg>
                                    </button>

                                    <!-- Track List -->
                                    <div class="tracklist" id="tracklist"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div><!-- .div3 -->
            </div><!-- .div2 -->
        </div><!-- .div1 -->
    </div><!-- .main-wrapper -->

    <!-- ─── RAINY DAY INIT ─── -->
    <script>
    function rainy() {
        var engine = new RainyDay('canvas', 'forest', window.innerWidth, window.innerHeight);
        engine.trail = engine.TRAIL_DROPS;
        engine.gravity = engine.GRAVITY_SIMPLE;
        engine.reflection = engine.REFLECTION_HQ;
        engine.gravity = function(drop) {
            if (drop.r1 < 2) { clearInterval(drop.intid); return true; }
            this.context.clearRect(drop.x - drop.r1 - 1, drop.y - drop.r1 - 1, 2*drop.r1+2, 2*drop.r1+2);
            if (drop.y - drop.r1 > this.glass.height) { clearInterval(drop.intid); return true; }
            drop.speed = drop.speed ? drop.speed + (0.02 * drop.r1) : 0.5;
            drop.y += drop.speed;
            drop.draw();
            return false;
        };
        engine.rain([engine.preset(0,2,0.5), engine.preset(3,3,0.8), engine.preset(5,8,1.0)], 60);
    }
    </script>

    <!-- ─── DISCORD PRESENCE ─── -->
    <script>
    const statusMap = {
        idle:    'https://cdn3.emoji.gg/emojis/11458-idle.png',
        dnd:     'https://cdn3.emoji.gg/emojis/58419-do-not-disturb.png',
        online:  'https://cdn3.emoji.gg/emojis/11458-online.png',
        offline: 'https://cdn3.emoji.gg/emojis/54394-offline.png',
    };

    // Discord emoji CDN mapping for common animated emojis in custom statuses
    // For standard unicode emoji we render via an <img> from a CDN
    function getEmojiImg(emoji) {
        if (!emoji) return '';
        // If it's a Discord custom emoji it has an id
        if (emoji.id) {
            const ext = emoji.animated ? 'gif' : 'png';
            return `<img src="https://cdn.discordapp.com/emojis/${emoji.id}.${ext}" alt="${emoji.name}" style="height:18px;width:18px;vertical-align:middle;">`;
        }
        // Standard unicode — use Twemoji (Discord-style) rendering
        const codePoints = [...emoji.name].map(c => c.codePointAt(0).toString(16)).join('-');
        return `<img src="https://cdn.jsdelivr.net/npm/twemoji@latest/dist/svg/${codePoints}.svg" alt="${emoji.name}" style="height:18px;width:18px;vertical-align:middle;">`;
    }

    async function updateDiscord(userId = "1287361512171634720") {
        const box = document.getElementById("presence-box");
        try {
            const res = await fetch(`https://api.lanyard.rest/v1/users/${userId}`);
            const data = (await res.json()).data;
            const user = data.discord_user;

            let nameplateHtml = '';
            if (user.collectibles && user.collectibles.nameplate) {
                const assetPath = user.collectibles.nameplate.asset;
                const baseUrl = "https://cdn.discordapp.com/assets/collectibles/";
                nameplateHtml = `
                    <div class="presence-nameplate">
                        <video class="nameplate-video" loop muted playsinline autoplay>
                            <source src="${baseUrl}${assetPath}asset.webm" type="video/webm">
                        </video>
                    </div>`;
            }

            // Activity emoji rendered as Discord-style image
            let activityHtml = '';
            if (data.activities && data.activities.length > 0) {
                const act = data.activities[0];
                const emojiImg = getEmojiImg(act.emoji);
                const state = act.state || act.name || '';
                activityHtml = `<h4 class="activity">${emojiImg}<span>${state}</span></h4>`;
            }

            box.innerHTML = `
                ${nameplateHtml}
                <div class="pfp">
                    <img src="https://cdn.discordapp.com/avatars/${user.id}/${user.avatar}" alt="avatar">
                    <img class="status-icon" src="${statusMap[data.discord_status]}" alt="status">
                    ${user.avatar_decoration_data
                        ? `<img class="avatar-deco" src="https://cdn.discordapp.com/avatar-decoration-presets/${user.avatar_decoration_data.asset}.png" alt="deco">`
                        : ''}
                </div>
                <div class="usernamecontainer">
                    <h3>
                        ${user.display_name}
                        ${user.primary_guild
                            ? `<div class="guild-tag">
                                <img src="https://cdn.discordapp.com/guild-tag-badges/${user.primary_guild.identity_guild_id}/${user.primary_guild.badge}?size=16" alt="guild">
                                ${user.primary_guild.tag}
                            </div>` : ''}
                    </h3>
                    ${activityHtml}
                </div>`;

            // Nameplate hover pause/play
            const vid = box.querySelector(".nameplate-video");
            if (vid) {
                vid.pause();
                box.onmouseenter = () => vid.play();
                box.onmouseleave = () => vid.pause();
            }
        } catch(e) { console.error("Discord fetch failed", e); }
    }
    </script>

    <!-- ─── MUSIC PLAYER ─── -->
    <script>
    // ─── Playlist track data (from your YouTube playlist) ───
    // Video IDs extracted from: https://www.youtube.com/playlist?list=PLrR0UWVc3H18LKwx_IC4zTlZKK2qzJu0Z
    // You can update this array with real titles/durations once you have them.
    // Format: { id, title, artist, duration (seconds), thumb }
    const PLAYLIST = [
        { id: "placeholder1", title: "Track 1", artist: "Artist", duration: 200 },
        { id: "placeholder2", title: "Track 2", artist: "Artist", duration: 180 },
        { id: "placeholder3", title: "Track 3", artist: "Artist", duration: 220 },
        { id: "placeholder4", title: "Track 4", artist: "Artist", duration: 195 },
        { id: "placeholder5", title: "Track 5", artist: "Artist", duration: 210 },
    ];

    // ── State ──
    let currentIdx = 0;
    let isPlaying = false;
    let isShuffle = false;
    let repeatMode = 0; // 0=off 1=all 2=one
    let progressInterval = null;
    let currentTime = 0;
    let ytPlayer = null; // YouTube IFrame player instance (if loaded)

    // ── YouTube IFrame API ──
    // We load the real playlist via YouTube's IFrame API for actual playback.
    // The custom UI above is a skin — it reads state from the YT player.
    const PLAYLIST_ID = "PLrR0UWVc3H18LKwx_IC4zTlZKK2qzJu0Z";

    function loadYouTubeAPI() {
        const tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        document.head.appendChild(tag);
    }
    loadYouTubeAPI();

    // Called by YouTube API when ready
    window.onYouTubeIframeAPIReady = function() {
        ytPlayer = new YT.Player('yt-player', {
            height: '1',
            width: '1',
            playerVars: {
                'listType': 'playlist',
                'list': PLAYLIST_ID,
                'autoplay': 0,
                'controls': 0,
            },
            events: {
                'onReady': onPlayerReady,
                'onStateChange': onPlayerStateChange,
                'onError': onPlayerError
            }
        });
    };

    function onPlayerReady(event) {
        // Player is ready — update UI with first video info
        updateTrackInfo();
        renderTracklist();
        startProgressLoop();
    }

    function onPlayerStateChange(event) {
        const state = event.data;
        if (state === YT.PlayerState.PLAYING) {
            setPlayState(true);
        } else if (state === YT.PlayerState.PAUSED || state === YT.PlayerState.ENDED) {
            if (state === YT.PlayerState.ENDED) {
                handleEnded();
            } else {
                setPlayState(false);
            }
        }
    }

    function onPlayerError(event) {
        console.warn("YT player error, code:", event.data);
        // Try skipping to next
        goNext();
    }

    // ── UI helpers ──
    function setPlayState(playing) {
        isPlaying = playing;
        document.getElementById('icon-play').style.display = playing ? 'none' : 'block';
        document.getElementById('icon-pause').style.display = playing ? 'block' : 'none';
    }

    function formatTime(s) {
        s = Math.floor(s || 0);
        const m = Math.floor(s / 60);
        const sec = s % 60;
        return m + ':' + (sec < 10 ? '0' : '') + sec;
    }

    function updateTrackInfo() {
        if (!ytPlayer || typeof ytPlayer.getVideoData !== 'function') return;
        const data = ytPlayer.getVideoData();
        const title = data.title || 'Unknown';
        const artist = data.author || '—';
        const videoId = data.video_id || '';

        document.getElementById('player-title').textContent = title;
        document.getElementById('player-artist').textContent = artist;
        document.getElementById('player-open-btn').href = `https://www.youtube.com/watch?v=${videoId}&list=${PLAYLIST_ID}`;

        // Thumbnail
        const thumbUrl = videoId ? `https://i.ytimg.com/vi/${videoId}/mqdefault.jpg` : '';
        document.getElementById('player-thumb-img').src = thumbUrl;

        // Update active track in list
        document.querySelectorAll('.track-item').forEach(el => el.classList.remove('active'));
        const activeItem = document.querySelector(`.track-item[data-idx="${getCurrentPlaylistIndex()}"]`);
        if (activeItem) activeItem.classList.add('active');
    }

    function getCurrentPlaylistIndex() {
        // YT IFrame API doesn't expose playlist index directly in a reliable cross-browser way.
        // We match by video ID.
        if (!ytPlayer || typeof ytPlayer.getVideoData !== 'function') return 0;
        const vid = ytPlayer.getVideoData().video_id;
        const items = document.querySelectorAll('.track-item');
        for (let i = 0; i < items.length; i++) {
            if (items[i].dataset.videoId === vid) return i;
        }
        return 0;
    }

    function startProgressLoop() {
        if (progressInterval) clearInterval(progressInterval);
        progressInterval = setInterval(() => {
            if (!ytPlayer || typeof ytPlayer.getCurrentTime !== 'function') return;
            const cur = ytPlayer.getCurrentTime();
            const dur = ytPlayer.getDuration();
            if (dur > 0) {
                const pct = (cur / dur) * 100;
                document.getElementById('progress-fill').style.width = pct + '%';
                document.getElementById('time-current').textContent = formatTime(cur);
                document.getElementById('time-total').textContent = formatTime(dur);
            }
        }, 500);
    }

    function handleEnded() {
        if (repeatMode === 2) {
            // repeat one
            ytPlayer.playVideo();
        } else {
            goNext();
        }
    }

    function goNext() {
        if (ytPlayer && typeof ytPlayer.nextVideo === 'function') {
            ytPlayer.nextVideo();
            setTimeout(updateTrackInfo, 800);
        }
    }

    function goPrev() {
        if (ytPlayer && typeof ytPlayer.previousVideo === 'function') {
            ytPlayer.previousVideo();
            setTimeout(updateTrackInfo, 800);
        }
    }

    // ── Controls ──
    document.getElementById('btn-play').addEventListener('click', () => {
        if (!ytPlayer) return;
        if (isPlaying) { ytPlayer.pauseVideo(); }
        else { ytPlayer.playVideo(); }
    });

    document.getElementById('btn-next').addEventListener('click', goNext);
    document.getElementById('btn-prev').addEventListener('click', goPrev);

    document.getElementById('btn-shuffle').addEventListener('click', function() {
        isShuffle = !isShuffle;
        this.classList.toggle('active', isShuffle);
        if (ytPlayer && typeof ytPlayer.setShuffle === 'function') {
            ytPlayer.setShuffle(isShuffle);
        }
    });

    document.getElementById('btn-repeat').addEventListener('click', function() {
        repeatMode = (repeatMode + 1) % 3;
        this.classList.toggle('active', repeatMode > 0);
        if (ytPlayer && typeof ytPlayer.setLoop === 'function') {
            ytPlayer.setLoop(repeatMode === 1); // loop playlist
        }
    });

    // ── Progress scrub ──
    document.getElementById('progress-wrap').addEventListener('click', function(e) {
        if (!ytPlayer || typeof ytPlayer.getDuration !== 'function') return;
        const rect = this.querySelector('.player-progress-bg').getBoundingClientRect();
        const pct = Math.max(0, Math.min(1, (e.clientX - rect.left) / rect.width));
        const dur = ytPlayer.getDuration();
        if (dur > 0) ytPlayer.seekTo(pct * dur, true);
    });

    // ── Volume ──
    document.getElementById('vol-slider').addEventListener('input', function() {
        if (ytPlayer && typeof ytPlayer.setVolume === 'function') {
            ytPlayer.setVolume(Number(this.value));
        }
        // Update icon
        const v = Number(this.value);
        const icon = document.getElementById('vol-icon');
        if (v === 0) {
            icon.innerHTML = '<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><line x1="23" y1="9" x2="17" y2="15"/><line x1="17" y1="9" x2="23" y2="15"/>';
        } else if (v < 50) {
            icon.innerHTML = '<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M15.54 8.46a5 5 0 0 1 0 7.07"/>';
        } else {
            icon.innerHTML = '<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M15.54 8.46a5 5 0 0 1 0 7.07"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14"/>';
        }
    });

    // ── Tracklist toggle ──
    document.getElementById('tracklist-toggle').addEventListener('click', function() {
        this.classList.toggle('open');
        document.getElementById('tracklist').classList.toggle('open');
    });

    // ── Render tracklist ──
    // Since YT IFrame API doesn't give us the full playlist metadata upfront,
    // we render a tracklist that populates as the user navigates.
    // We pre-populate by loading each video briefly (not ideal),
    // OR we just show a "loading" state and fill in as tracks play.
    // For now: we render empty slots that fill as the player navigates.
    function renderTracklist() {
        // We'll populate dynamically. For a real implementation you'd fetch
        // playlist data from YouTube Data API v3 with an API key.
        const container = document.getElementById('tracklist');
        container.innerHTML = '<div style="color:rgba(255,255,255,0.3);font-size:12px;padding:8px;">Tracks populate as you navigate the playlist</div>';
    }

    // ── Scroll arrow logic ──
    const projectsOuterDiv = document.getElementById("projects-outerdiv");
    const indicator = document.getElementById("scroll-arrow");
    const nextSection = document.getElementById("wiwo");

    function isVisible(el) {
        const rect = el.getBoundingClientRect();
        return rect.top < window.innerHeight && rect.bottom > 0;
    }

    const updateVisibility = () => {
        indicator.style.opacity = isVisible(nextSection) ? "0" : "1";
        indicator.style.pointerEvents = isVisible(nextSection) ? "none" : "auto";
    };
    window.addEventListener("scroll", updateVisibility);
    </script>

    <!-- ─── INIT ─── -->
    <script>
    window.addEventListener("DOMContentLoaded", async () => {
        await updateDiscord();
        setInterval(updateDiscord, 15000);

        const bgImg = document.getElementById('forest');
        if (bgImg.complete) rainy();
        else bgImg.onload = rainy;

        updateVisibility();

        if (!isVisible(projectsOuterDiv)) {
            const centerBox = document.querySelector(".centered");
            const el = document.createElement("p");
            el.innerText = "Scroll down!";
            el.style.color = 'white';
            centerBox.insertAdjacentElement('afterend', el);
            const mb = window.getComputedStyle(centerBox).marginBottom;
            centerBox.style.marginBottom = '0';
            el.style.marginBottom = mb;
        }
    });
    </script>
    </body>
</html>